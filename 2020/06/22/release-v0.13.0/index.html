<!DOCTYPE html><html class="has-navbar-fixed-top"><head><meta charset="utf-8"><title>Ameba v0.13.0 has been released - Crystal Ameba</title><meta name="viewport" content="width=device-width,initial-scale=1,maximum-scale=1"><link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/outdated-browser/1.1.5/outdatedbrowser.min.css"><meta name="description" content="A static code analysis tool for Crystal"><meta name="keywords" content="crystal linter"><meta name="description" content="A very small release that supports Crystal 0.35.0 and eliminates the deprecation messages which are related to yaml serialization. Checkout the release notes to see a full scope of changes."><meta property="og:type" content="article"><meta property="og:title" content="Ameba v0.13.0 has been released"><meta property="og:url" content="https://crystal-ameba.github.io/2020/06/22/release-v0.13.0/index.html"><meta property="og:site_name" content="Crystal Ameba"><meta property="og:description" content="A very small release that supports Crystal 0.35.0 and eliminates the deprecation messages which are related to yaml serialization. Checkout the release notes to see a full scope of changes."><meta property="og:locale" content="en_US"><meta property="og:image" content="https://c5.patreon.com/external/logo/become_a_patron_button.png"><meta property="article:published_time" content="2020-06-22T10:54:30.000Z"><meta property="article:modified_time" content="2025-07-28T09:11:53.476Z"><meta property="article:author" content="Vitalii Elenhaupt"><meta property="article:tag" content="releases"><meta name="twitter:card" content="summary"><meta name="twitter:image" content="https://c5.patreon.com/external/logo/become_a_patron_button.png"><meta name="twitter:creator" content="@veelenga"><link rel="icon" href="/favicon.png"><link rel="stylesheet" href="//fonts.googleapis.com/css?family=Ovo|Source+Code+Pro"><link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/bulma/0.6.2/css/bulma.min.css"><link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/lightgallery/1.6.8/css/lightgallery.min.css"><link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/justifiedGallery/3.6.5/css/justifiedGallery.min.css"><link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/styles/atom-one-light.min.css"><link rel="stylesheet" href="/css/style.css"><script defer src="//use.fontawesome.com/releases/v5.0.8/js/all.js"></script><script async src="https://www.googletagmanager.com/gtag/js?id=UA-63584551-6"></script><script>function gtag(){dataLayer.push(arguments)}window.dataLayer=window.dataLayer||[],gtag("js",new Date),gtag("config","UA-63584551-6")</script><meta name="generator" content="Hexo 6.3.0">
<style>.not-gallery-item { position: relative; display: inline-block; width: 1.2em; min-height: 1.2em; overflow: hidden; vertical-align: top; color: transparent; }  .not-gallery-item > span { position: relative; z-index: 10; }  .not-gallery-item img, .not-gallery-item .fancybox { margin: 0 !important; padding: 0 !important; border: none !important; outline: none !important; text-decoration: none !important; user-select: none !important; cursor: auto !important; }  .not-gallery-item img { height: 1.2em !important; width: 1.2em !important; position: absolute !important; left: 50% !important; top: 50% !important; transform: translate(-50%, -50%) !important; user-select: none !important; cursor: auto !important; } .not-gallery-item-fallback { color: inherit; } .not-gallery-item-fallback img { opacity: 0 !important; }</style>
</head><body><nav class="navbar is-transparent is-fixed-top navbar-main" role="navigation" aria-label="main navigation"><div class="container"><div class="navbar-brand"><a class="navbar-item navbar-logo" href="/"><img src="/images/logo.png" alt="" height="28"></a><div class="navbar-burger"><span></span> <span></span> <span></span></div></div><div class="navbar-menu navbar-start"><a class="navbar-item" href="/blog">Blog</a> <a class="navbar-item" href="https://crystal-ameba.github.io/ameba/">Documentation</a> <a class="navbar-item" target="_blank" rel="noopener" href="https://gitter.im/veelenga/ameba">Chat</a></div><div class="navbar-menu navbar-end"><a class="navbar-item search" title="Search" href="javascript:;"><i class="fas fa-search"></i></a><div class="navbar-item is-hoverable has-dropdown is-hidden-mobile is-hidden-tablet-only toc"><a class="navbar-item" title="Table of Contents"><i class="fa fa-list"></i></a><div class="navbar-dropdown is-right"><a class="navbar-item" href="#Move-to-YAML-Serializable">1&nbsp;&nbsp;<b>Move to YAML::Serializable</b></a><hr class="navbar-divider"><a class="navbar-item" href="#New-Rules">2&nbsp;&nbsp;<b>New Rules</b></a> <a class="navbar-item" href="#Lint-BadDirective">2.1&nbsp;&nbsp;Lint/BadDirective</a><hr class="navbar-divider"><a class="navbar-item" href="#Style-IsANil">3&nbsp;&nbsp;<b>Style/IsANil</b></a><hr class="navbar-divider"><a class="navbar-item" href="#Support">4&nbsp;&nbsp;<b>Support</b></a></div></div><a class="navbar-item" title="Edit on GitHub" target="_blank" rel="noopener" href="https://github.com/crystal-ameba/crystal-ameba.github.io/edit/site/source/_posts/release-v0.13.0.md"><i class="fas fa-edit"></i></a></div></div></nav><section class="section"><div class="container"><article class="article content gallery" itemscope itemprop="blogPost"><h1 class="article-title is-size-3 is-size-4-mobile" itemprop="name">Ameba v0.13.0 has been released</h1><div class="article-meta columns is-variable is-1 is-multiline is-mobile is-size-7-mobile"><span class="column is-narrow article-category"><i class="far fa-folder"></i> <a class="article-category-link" href="/categories/Release-announcement/">Release announcement</a></span></div><div class="article-entry is-size-6-mobile" itemprop="articleBody"><p>A very small release that supports <a target="_blank" rel="noopener" href="https://github.com/crystal-lang/crystal/releases/tag/0.35.0">Crystal 0.35.0</a> and eliminates the deprecation messages which are related to yaml serialization.</p><p>Checkout the <a target="_blank" rel="noopener" href="https://github.com/crystal-ameba/ameba/releases/tag/v0.13.0">release notes</a> to see a full scope of changes.</p><span id="more"></span><h3 id="Move-to-YAML-Serializable"><a href="#Move-to-YAML-Serializable" class="headerlink" title="Move to YAML::Serializable"></a>Move to <code>YAML::Serializable</code></h3><p>Each rule in Ameba can be serialized to YAML and deserialized back to the Crystal struct. This is needed in order to give users an ability to configure the Ameba binary using the configuration file <code>.ameba.yml</code>.</p><p>And in order to deserialize, Ameba used <a target="_blank" rel="noopener" href="https://crystal-lang.org/api/0.35.1/YAML.html#mapping(**_properties_)-macro"><code>YAML.mapping</code></a> macro. And starting from Crystal <code>0.35.0</code> this macro is deprecated since there is a better alternative which is the <a target="_blank" rel="noopener" href="https://crystal-lang.org/api/0.35.1/YAML/Serializable.html"><code>YAML::Serializable</code></a> module.</p><p>Starting from this release, Ameba uses <code>YAML::Serializable</code>. The older version of Ameba still works with Crystal <code>0.35.0</code> however, users might see the deprecation warning while compiling the binary.</p><h3 id="New-Rules"><a href="#New-Rules" class="headerlink" title="New Rules"></a>New Rules</h3><h4 id="Lint-BadDirective"><a href="#Lint-BadDirective" class="headerlink" title="Lint/BadDirective"></a><a href="/ameba/Ameba/Rule/Lint/BadDirective.html"><code>Lint/BadDirective</code></a></h4><p>This is a new rule that reports the incorrect comment directive for Ameba.</p><p>For example, the user can mistakenly add a directive to disable a rule that even doesnâ€™t exist:</p><figure class="highlight crystal"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># ameba:disable BadRuleName</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">foo</span></span></span><br><span class="line">  :bar</span><br><span class="line"><span class="keyword">end</span></span><br></pre></td></tr></tbody></table></figure><p>Now, such a comment directive above will be propertly reported.</p><h3 id="Style-IsANil"><a href="#Style-IsANil" class="headerlink" title="Style/IsANil"></a><a href="/ameba/Ameba/Rule/Style/IsANil.html"><code>Style/IsANil</code></a></h3><p>Crystal has two ways for checking the <code>nil</code> equality: <code>.is_a?(Nil)</code> and <code>.nil?</code>.</p><p>Since the second is much more consice and doing basically the same, now Ameba disallows calls to <code>.is_a?(Nil)</code> in favor of <code>.nil?</code>.</p><p>This is considered bad:</p><figure class="highlight crystal"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">var.is_a? Nil</span><br></pre></td></tr></tbody></table></figure><p>And needs to be written as:</p><figure class="highlight crystal"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">var.<span class="literal">nil</span>?</span><br></pre></td></tr></tbody></table></figure><h3 id="Support"><a href="#Support" class="headerlink" title="Support"></a>Support</h3><p>A new Patreon page has been created recently to support Ameba. If you enjoy the project please consider becoming a patreon which will give more attention to the project from the development perspective and make it better.</p><p><a target="_blank" rel="noopener" href="https://www.patreon.com/join/2488933/checkout"><img src="https://c5.patreon.com/external/logo/become_a_patron_button.png"></a></p></div><div class="columns is-variable is-1 is-multiline is-mobile"><span class="column is-narrow"><a class="tag is-light article-tag" href="/tags/releases/">#releases</a></span></div><div class="columns is-mobile is-multiline article-nav"><span class="column is-12-mobile is-half-desktop article-nav-prev"><a href="/2021/02/12/release-v0.14.0/">Ameba v0.14.0 has been released</a> </span><span class="column is-12-mobile is-half-desktop article-nav-next"><a href="/2020/03/27/release-v0.12.0/">Ameba v0.12.0 has been released</a></span></div></article><div class="comments"><h3 class="title is-4">Comments</h3><script>var disqus_config=function(){this.page.url="https://crystal-ameba.github.io/2020/06/22/release-v0.13.0/",this.page.identifier="2020/06/22/release-v0.13.0/",this.language="en"};!function(){var e=document,t=e.createElement("script");t.src="//crystal-ameba-github-io.disqus.com/embed.js",t.setAttribute("data-timestamp",+new Date),(e.head||e.body).appendChild(t)}()</script><div id="disqus_thread"><noscript>Please enable JavaScript to view the <a target="_blank" rel="noopener" href="//disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript></div></div></div></section><footer class="footer"><div class="container"><div class="columns content"><div class="column is-narrow has-text-centered">&copy; 2025 Vitalii Elenhaupt&nbsp; Powered by <a href="http://hexo.io/" target="_blank">Hexo</a> & <a target="_blank" rel="noopener" href="http://github.com/ppoffice/hexo-theme-minos">Minos</a></div><div class="column is-hidden-mobile"></div><div class="column is-narrow"><div class="columns is-mobile is-multiline is-centered"><a class="column is-narrow has-text-black" title="GitHub" target="_blank" rel="noopener" href="https://github.com/crystal-ameba/crystal-ameba.github.io">GitHub</a></div></div></div></div></footer><script src="//cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script><script src="//cdnjs.cloudflare.com/ajax/libs/moment.js/2.22.2/moment-with-locales.min.js"></script><div id="outdated"><h6>Your browser is out-of-date!</h6><p>Update your browser to view this website correctly. <a id="btnUpdateBrowser" target="_blank" rel="noopener" href="http://outdatedbrowser.com/">Update my browser now</a></p><p class="last"><a href="#" id="btnCloseUpdateBrowser" title="Close">&times;</a></p></div><script src="//cdnjs.cloudflare.com/ajax/libs/outdated-browser/1.1.5/outdatedbrowser.min.js"></script><script>$(document).ready((function(){outdatedBrowser({bgColor:"#f25648",color:"#ffffff",lowerThan:"flex"})}))</script><script>window.FontAwesomeConfig={searchPseudoElements:!0},moment.locale("en-AU")</script><script src="//cdnjs.cloudflare.com/ajax/libs/lightgallery/1.6.8/js/lightgallery-all.min.js"></script><script src="//cdnjs.cloudflare.com/ajax/libs/justifiedGallery/3.6.5/js/jquery.justifiedGallery.min.js"></script><script>!function(e){e(document).ready((function(){"function"==typeof e.fn.lightGallery&&e(".article.gallery").lightGallery({selector:".gallery-item"}),"function"==typeof e.fn.justifiedGallery&&e(".justified-gallery").justifiedGallery()}))}(jQuery)</script><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.0/clipboard.min.js"></script><style>.hljs{position:relative}.hljs .clipboard-btn{float:right;color:#9a9a9a;background:0 0;border:none;cursor:pointer}.hljs .clipboard-btn:hover{color:#8a8a8a}.hljs>.clipboard-btn{display:none;position:absolute;right:4px;top:4px}.hljs:hover>.clipboard-btn{display:inline}.hljs>figcaption>.clipboard-btn{margin-right:4px}</style><script>$(document).ready((function(){$("figure.hljs").each((function(t,e){var a="code-"+t,r=e.querySelector(".code"),c=$('<button>Copy <i class="far fa-clipboard"></i></button>');r.id=a,c.addClass("clipboard-btn"),c.attr("data-clipboard-target-id",a);var n=e.querySelector("figcaption");n?n.append(c[0]):e.prepend(c[0])})),new ClipboardJS(".clipboard-btn",{target:function(t){return document.getElementById(t.getAttribute("data-clipboard-target-id"))}}).on("success",(function(t){t.clearSelection()}))}))</script><script src="/js/script.js"></script><div class="searchbox ins-search"><div class="searchbox-mask"></div><div class="searchbox-container ins-search-container"><div class="searchbox-input-wrapper"><input type="text" class="searchbox-input ins-search-input" placeholder="Type something..."> <span class="searchbox-close ins-close ins-selectable"><i class="fa fa-times-circle"></i></span></div><div class="searchbox-result-wrapper ins-section-wrapper"><div class="ins-section-container"></div></div></div></div><script>!function(T){T.INSIGHT_CONFIG={TRANSLATION:{POSTS:"Posts",PAGES:"Pages",CATEGORIES:"Categories",TAGS:"Tags",UNTITLED:"(Untitled)"},CONTENT_URL:"/content.json"}}(window)</script><script src="/js/insight.js"></script></body></html>